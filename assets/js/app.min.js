function getCookie(e){return document.cookie.length>0&&(c_start=document.cookie.indexOf(e+"="),-1!=c_start)?(c_start=c_start+e.length+1,c_end=document.cookie.indexOf(";",c_start),-1==c_end&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""}function set_dropdown_value(e){var t=$("#cat-sel ul");$that=t.find("li[data-cat="+e+"]"),$input=$("#cat-sel input"),$dropy=$("#cat-sel .dropy"),$title=$("#cat-sel .dropy__title span.tit"),$post_wrap=$("#blog-posts"),$title.html($that.text()).addClass("selected"),$input.val($that.attr("data-value")).trigger("change"),$dropy.removeClass("open"),$post_wrap.attr("data-cat",e),$that.remove(),t.prepend("<li data-cat="+e+">"+$that.text()+"</li>")}function slide_back(){!animating_work&&work_opened&&(animating_work=!0,work_opened=!1,$(".project-load").removeClass("loaded"),work_belt.removeClass("slided"),$("aside .work-return").hide(),setTimeout(function(){animating_work=!1,$(".project-load img").attr("src","")},800))}function skills_animate(){setTimeout(function(){$(".meter > span").each(function(){function e(e){$(e).css({width:10*o+"%",opacity:.1*o})}var t=$(this),o=($(".skill-unit:first-child .meter").width(),$(this).data("skill")),n=$(this).parents(".skill-unit").index();setTimeout(function(){e(t)},300*n)})},1e3)}function load_new_posts(e,t,o){if(t)if(shown_pages<page_folders_number){shown_pages++;var n=".cat-"+t;"all"==t&&(n="");var a="";o&&(a=".tag-"+o),$("#ccc").load(window.location.origin+"/pagination/page"+shown_pages+" .lang-"+lang+n+a,function(){$(".post-section").append($("#ccc").html());var n=$("#ccc .post-preview").size();if($("#ccc").empty(),e>n){var a=e-n;load_new_posts(a,t,o)}})}else blog_previews_container.addClass("prevent-scroll-load")}function load_cat(e){e&&(blog_previews_container.addClass("prevent-scroll-load"),shown_pages=1,$(".post-section").empty(),$(shown_posts).each(function(t,o){$(o).hasClass("cat-"+e)&&$(".post-section").append($(o))}),$(".dropy__title .hsh").text(""),load_new_posts(total_number,e))}function load_tag(e){e&&(blog_previews_container.addClass("prevent-scroll-load"),shown_pages=1,$(".post-section").empty(),$(shown_posts).each(function(t,o){$(o).hasClass("tag-"+e)&&$(".post-section").append($(o))}),$(".dropy__title .hsh").text("#"+e),load_new_posts(total_number,"all",e))}function blog_slide_back(){!animating_blog&&blog_opened&&(animating_blog=!0,blog_opened=!1,$(".blog-belt").removeClass("slided"),$("aside .blog-return").hide(),setTimeout(function(){animating_blog=!1,post_poster.css("background-image","none"),$(".post-content").empty()},800))}$(document).ready(function(){$(".ripple-effect").click(function(e){var t=$(this);if(!t.hasClass("animated")){t.addClass("animated"),0==t.find(".ink").length&&t.append("<span class='ink'></span>");var o=t.find(".ink");if(!o.height()&&!o.width()){var n=Math.max(t.outerWidth(),t.outerHeight());o.css({height:n,width:n})}var a=e.pageX-t.offset().left-o.width()/2,i=e.pageY-t.offset().top-o.height()/2;o.css({top:i+"px",left:a+"px"}).addClass("animate"),setTimeout(function(){t.removeClass("animated"),o.remove()},500)}})}),$(document).ready(function(){function e(){win_width>1e3?$("#small-ava").attr("src",$("#small-ava").data("src")):("ru"==lang&&$(".section-about .section-title").text("Константин Наумов"),$("#large-ava").attr("src",$("#large-ava").data("src")),$(".about-contact").attr("href","#contact"))}win_width=$(window).width(),win_height=$(window).height(),lang=$("body").data("lang"),page_url=window.location.href,domain=page_url.split("/"),ieMobile=!!window.ActiveXObject&&+/IEMobile\/(\d+\.?(\d+)?)/.exec(navigator.userAgent)[1]||0/0,ieMobile&&window.location.replace("http://browsehappy.com/?locale="+lang),$(window).on("load",function(){$(".full-screen-block").height(win_height),$(".thumb-wrap, .work-wrap").height(win_height),$("input, textarea").val(""),e(),setTimeout(function(){img_url="url("+domain[0]+"//"+domain[2]+"/assets/img/posters/web.jpg)",$(".section-blog .preview-container .poster").css("background-image",img_url)},100)}),$(window).on("resize",function(){setTimeout(function(){$(".full-screen-block").height(win_height),$(".thumb-wrap, .work-wrap").height(win_height)},100),e(),win_width=$(window).width(),win_height=$(window).height()})}),$(window).load(function(){setTimeout(function(){$("#status").fadeOut(),$("#preloader").hide(),$("#header").addClass("section-active")},100)});var createCookie=function(e,t,o){var n;if(o){var a=new Date;a.setTime(a.getTime()+24*o*60*60*1e3),n="; expires="+a.toGMTString()}else n="";document.cookie=e+"="+t+n+"; path=/"};$(document).ready(function(){function e(){if(hash=window.location.hash,""==hash)return 0;if(hash.length>0){var e=sections.indexOf(hash);return e}}function t(e){$(section_containers).hide(),$(section_containers).eq(e).show()}function o(e){n(e),a(e),t(e)}function n(e){$("nav .item").eq(e).addClass("active").siblings().removeClass("active")}function a(e){if(1==e&&(skills_animate(),$(".section-about .poster.me").css("background-image","url(/assets/img/posters/me.jpg)")),2!=e||$(".section-work").hasClass("viewed")||$(".section-work").addClass("viewed").find("img").each(function(e,t){$(t).attr("src",$(t).data("src")).removeAttr("data-src")}),3==e&&!$(".section-contact").hasClass("viewed")){var t=$(".section-contact");t.addClass("viewed"),t.find(".poster").css("background-image","url(/assets/img/posters/contact.jpg)")}4!=e||$(".exp-animation").hasClass("viewed")||($(".exp-animation").addClass("viewed").find(".wrap").load("../assets/exp/exp_html.html"),$(".section-expirience .poster.exp").css("background-image","url(/assets/img/posters/skillset.jpg)"))}nav_index=0,sections=[],section_containers=$(".full-screen-block"),$("nav.main-nav .item").each(function(e,t){sections.push($(t).attr("href"))}),$("nav.main-nav > *").click(function(){$(this).hasClass("active")||(o($(this).index()),work_opened&&slide_back(),blog_opened&&blog_slide_back())}),$(window).on("load",function(){if(nav_index=e(),nav_index>=0)window.location.hash=sections[nav_index],t(nav_index),a(nav_index);else{nav_index=0,t(nav_index),blog_belt.addClass("slided");var o=window.location.hash.substring(1);blog_opened=!0;var n=$(".post-content");n.load("/blog-posts/"+o,function(){$(".post-title .title-text").text(n.find(".title").text()),$(".post-title .date").text(n.find(".date").text()),$("aside .blog-return").show(),$(".post-poster").css("background-image","url(../../blog-posters/"+n.find(".title").data("poster")+")")})}$("nav .item").eq(nav_index).addClass("first-loaded"),setTimeout(function(){$(".first-loaded").removeClass("first-loaded").addClass("active")},200)}),$(window).on("hashchange",function(){nav_index=e(),nav_index>=0&&(n(nav_index),t(nav_index),a(nav_index))})}),jQuery(document).ready(function(e){var t={$dropys:null,openClass:"open",selectClass:"selected",init:function(){var t=this;t.$dropys=e(".dropy"),t.eventHandler()},eventHandler:function(){var t=this;t.$dropys.find(".dropy__title").on("click",function(){var o=e(this);t.$dropys.removeClass(t.openClass),o.parents(".dropy").addClass(t.openClass)}),t.$dropys.find(".dropy__content").on("click","li",function(){var t=e(this).attr("data-cat"),o="top center",n="url("+domain[0]+"//"+domain[2]+"/assets/img/posters/"+t+".jpg)";"life"==t&&(o="top right"),e(".section-blog .poster").css({"background-image":n,"background-position":o}),load_cat(t),set_dropdown_value(t)}),t.$dropys.find(".dropy__content ul ").on("mouseleave",function(){e("#cat-sel .dropy").removeClass("open")}),t.$dropys.find(".cross").on("click",function(){e("#cat-sel .dropy").removeClass("open")}),e(document).bind("click",function(o){e(o.target).parents().hasClass("dropy")||t.$dropys.removeClass(t.openClass)})}};e(function(){t.init()})}),$(document).ready(function(){$(".lang-switcher span").click(function(){$.removeCookie("lang",{path:"/"});var e=$(this).data("lang");$.cookie("lang",e,{expires:360,path:"/"}),-1==sections.indexOf(window.location.hash)&&(window.location.hash=""),"ru"==e?window.location.replace(window.location.origin+"/ru"+window.location.hash):"en"==e&&window.location.replace(window.location.origin+"/en"+window.location.hash)})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function t(e){return r.raw?e:encodeURIComponent(e)}function o(e){return r.raw?e:decodeURIComponent(e)}function n(e){return t(r.json?JSON.stringify(e):String(e))}function a(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(s," ")),r.json?JSON.parse(e):e}catch(t){}}function i(t,o){var n=r.raw?t:a(t);return e.isFunction(o)?o(n):n}var s=/\+/g,r=e.cookie=function(a,s,l){if(arguments.length>1&&!e.isFunction(s)){if(l=e.extend({},r.defaults,l),"number"==typeof l.expires){var c=l.expires,d=l.expires=new Date;d.setTime(+d+864e5*c)}return document.cookie=[t(a),"=",n(s),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var p=a?void 0:{},u=document.cookie?document.cookie.split("; "):[],h=0,g=u.length;g>h;h++){var $=u[h].split("="),w=o($.shift()),m=$.join("=");if(a&&a===w){p=i(m,s);break}a||void 0===(m=i(m))||(p[w]=m)}return p};r.defaults={},e.removeCookie=function(t,o){return void 0===e.cookie(t)?!1:(e.cookie(t,"",e.extend({},o,{expires:-1})),!e.cookie(t))}}),$(document).ready(function(){$.ajaxSetup({cache:!0});var e=$(".exp-nav"),t=$(".exp-nav .select-skill"),o=($("nav.select-skill li"),$("nav.select-skill .selected-center span")),n=o.text(),a="active-exp-tab",i=($(".exp-tab"),$(".exp-unit-wrapper")),s=$(".exp-animation .wrap");$(".exp-unit").eq(0).addClass("active-exp-tab"),e.click(function(){t.hasClass("animating")||($(this).find(".select-skill").addClass("opened show-list"),i.addClass("faded-out"),new_text=o.text(),o.text(n))}),$(".select-option").click(function(){if($(this).addClass("checked"),t.hasClass("opened")){var e=$(this);s.load("../assets/"+e.data("file")),setTimeout(function(){setTimeout(function(){o.text(e.text()),setTimeout(function(){i.removeClass("faded-out"),t.removeClass("animating")},50)},500),setTimeout(function(){t.removeClass("show-list")},450),t.removeClass("opened").addClass("animating")},500),$(".exp-unit").removeClass(a).eq($(this).data("index")-1).addClass(a)}else t.addClass("opened show-list"),i.addClass("faded-out")})}),$(document).ready(function(){function e(e){return $(e).val()}$(window).on("load",function(){$("input, textarea").each(function(e,t){""!=$(t).val()&&$(t).addClass("has-value")})});var t=$(".awesome-form"),o=$(".awesome-form textarea"),n=$(".awesome-form input[name=name]"),a=$(".awesome-form input[name=email]"),i=$(".awesome-form button");$(t).submit(function(t){t.preventDefault(),$.ajax({url:"//formspree.io/const.int.naumov@gmail.com",method:"POST",data:{name:e(n),email:e(a),message:e(o)},dataType:"json"}),$(n).val("").removeClass("has-value"),$(a).val("").removeClass("has-value"),$(o).val("").removeClass("has-value"),$(i).text("Thank you! I promise to reply asap ☺")}),$(".awesome-form input, .awesome-form .textarea").focusout(function(){""===$(this).val()?$(this).removeClass("has-value"):$(this).addClass("has-value")});var s,r,l;l=$(".awesome-form textarea"),r=$("#auto-height-hidden-div"),s=null,l.on("keyup focus",function(){s=$(this).val(),s=s.replace(/\n/g,"<br>"),r.html(s+"<br><br>"),$(".textarea-wrapper").css("height",r.height()),$(this).css("height",r.height()-2)}),l.on("focusout",function(){s=$(this).val(),s=s.replace(/\n/g,"<br>"),r.html(s),ta_size=r.height()<28?28:r.height(),wra_size=r.height()<60?60:r.height(),$(".textarea-wrapper").css("height",wra_size),$(this).css("height",ta_size)})}),$(document).ready(function(){work_section=$(".section-work"),navigation=$("nav"),show_work_trigger=$(".thumb-click-area"),loader_work=$(".loader.work"),work_belt=$(".work-belt"),work_wrap=$(".work-wrap"),work_container=$(".work-container"),return_sign=$(".work-return"),thumb_wrap_shift=$(".thumb-wrap-shift"),animating_work=!1,work_opened=!1,$.ajaxSetup({cache:!0}),show_work_trigger.click(function(){if(!animating_work){var e=$(this),t=e.data("name"),o=e.data("url"),n=e.data("folder");animating_work=work_opened=!0,work_belt.addClass("slided"),setTimeout(function(){$("aside .work-return").show(),animating_work=!1},800),$(".project-load").addClass("loaded").find("img").attr("src","../assets/img/work/proj-"+n+"/image.jpg"),$(".project-title span.title-text").text(t),""!=o&&$(".project-url").attr("href","http://"+o)}}),return_sign.click(function(){slide_back()})});var blog_previews_container=$("#blog .preview-container-shift"),blog_previews=$("#blog-posts"),blog_belt=$(".blog-belt"),post_section=$(".post-section");blog_return=$(".blog-return"),post_poster=$(".post-poster"),post_content=$(".post-content"),total_number=blog_previews.data("total-number"),pager_size=blog_previews.data("pager-number"),shown_pages=1,loading_offset=200,animating_blog=blog_opened=!1,page_folders_number=Math.ceil(total_number/pager_size),$(document).ready(function(){function e(){var e=$(blog_previews_container).scrollTop(),t=$(blog_previews).outerHeight();e+loading_offset+win_height>t&&load_new_posts(5,$(blog_previews).data("cat"))}$(blog_previews_container).on("click",".hashtag",function(){load_tag($(this).text())}),$(blog_previews_container).on("scroll",function(){$(blog_previews_container).hasClass("prevent-scroll-load")||e()}),$(window).on("load",function(){shown_posts=$(".post-section .post-preview");var t=$(shown_posts).size();5>t&&load_new_posts(5-shown_posts),e()}),$("#blog-posts").on("click",".post-link, .post-name span",function(){if(!animating_work){var e=$(this).parents(".post-preview"),t=e.data("name"),o=e.data("url"),n=e.data("poster"),a=e.data("date"),i=o.split("/");animating_blog=blog_opened=!0,window.location.hash=i[i.length-1],setTimeout(function(){$("aside .blog-return").show(),animating_blog=!1},800),blog_belt.addClass("slided"),$(".post-title .title-text").text(t),$(".post-title .date").text(a.toLowerCase()),$(".post-content").load(o,function(){post_poster.css("background-image","url(../../blog-posters/"+n+")")})}}),blog_return.click(function(){window.location.hash="#blog",blog_slide_back()})});