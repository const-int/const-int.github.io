function getScrollbarWidth(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var a=document.createElement("div");a.style.width="100%",e.appendChild(a);var n=a.offsetWidth;return e.parentNode.removeChild(e),t-n}function set_dropdown_value(e){var t=$("#cat-sel ul li a[data-cat="+e+"]"),a=$("#cat-sel input"),n=$("#cat-sel .dropy"),o=$("#cat-sel .dropy__title span");n.find(".dropy__content a").each(function(){$(this).removeClass(self.selectClass)}),$(".dropy__title").css("opacity","1"),o.html(t.text()).addClass("selected"),a.val(t.attr("data-value")).trigger("change"),n.removeClass("open")}function slide_back(){!animating_work&&work_opened&&(animating_work=!0,work_opened=!1,$(".project-load").removeClass("loaded"),work_belt.removeClass("slided"),$("aside .work-return").hide(),setTimeout(function(){animating_work=!1,$(".project-load img").attr("src","")},800))}function skills_animate(){setTimeout(function(){$(".meter > span").each(function(){function e(e){$(e).css({width:10*a+"%",opacity:.1*a})}var t=$(this),a=($(".skill-unit:first-child .meter").width(),$(this).data("skill")),n=$(this).parents(".skill-unit").index();setTimeout(function(){e(t)},300*n)})},1e3)}function load_new_posts(e,t){t&&(cat_name=t,shown_pages<page_folders_number&&(shown_pages++,cat="all"==cat_name?"":".cat-"+cat_name,$("#ccc").load(window.location.origin+"/pagination/page"+shown_pages+" .lang-"+lang+cat,function(){$(".post-section").append($("#ccc").html());var t=$("#ccc .post-preview").size();if($("#ccc").empty(),e>t){var a=e-t;load_new_posts(a,cat_name)}})))}function load_cat(e){e&&($("#blog .preview-container-shift").addClass("prevent-scroll-load"),shown_pages=1,$(".post-section").empty(),$(shown_posts).each(function(t,a){$(a).hasClass("cat-"+e)&&$(".post-section").append($(a))}),load_new_posts(total_number,e))}function blog_slide_back(){!animating_blog&&blog_opened&&(animating_blog=!0,blog_opened=!1,$(".blog-belt").removeClass("slided"),$("aside .blog-return").hide(),setTimeout(function(){animating_blog=!1,$(".post-content").empty()},800))}$(document).ready(function(){$(".ripple-effect").click(function(e){var t=$(this);if(!t.hasClass("animated")){t.addClass("animated"),0==t.find(".ink").length&&t.append("<span class='ink'></span>");var a=t.find(".ink");if(!a.height()&&!a.width()){var n=Math.max(t.outerWidth(),t.outerHeight());a.css({height:n,width:n})}var o=e.pageX-t.offset().left-a.width()/2,i=e.pageY-t.offset().top-a.height()/2;a.css({top:i+"px",left:o+"px"}).addClass("animate"),setTimeout(function(){t.removeClass("animated"),a.remove()},500)}})}),$(document).ready(function(){function e(){win_width>1e3?$("#small-ava").attr("src",$("#small-ava").data("src")):($("#large-ava").attr("src",$("#large-ava").data("src")),$(".about-contact").attr("href","#contact"))}win_width=$(window).width(),win_height=$(window).height(),lang=$("body").data("lang"),$(window).on("load",function(){$(".full-screen-block").height(win_height),$(".thumb-wrap, .work-wrap").height(win_height),$(".thumb-container, .preview-container-shift .container").css("left",getScrollbarWidth()/2),$("input, textarea").val(""),e(),setTimeout(function(){var e=$(".poster"),t=Math.floor(Math.random()*e.data("images-number")+1);e.css("background-image","url("+e.data("bg-src")+t+".jpg)")},100)}),$(window).on("resize",function(){setTimeout(function(){$(".full-screen-block").height(win_height),$(".thumb-wrap, .work-wrap").height(win_height)},100),e(),win_width=$(window).width(),win_height=$(window).height()})}),$(window).load(function(){setTimeout(function(){$("#status").fadeOut(),$("#preloader").hide(),$("#header").addClass("section-active")},100)}),$(document).ready(function(){function e(){if(hash=window.location.hash,""==hash)return 0;if(hash.length>0){var e=sections.indexOf(hash);return e}}function t(e){$(section_containers).hide(),$(section_containers).eq(e).show()}function a(e){n(e),o(e),t(e)}function n(e){$("nav .item").eq(e).addClass("active").siblings().removeClass("active")}function o(e){2==e&&skills_animate(),1!=e||$(".thumb-container").hasClass("viewed")||$(".thumb-container").addClass("viewed").find("img").each(function(e,t){$(t).attr("src",$(t).data("src")).removeAttr("data-src")}),4!=e||$(".exp-animation").hasClass("viewed")||$(".exp-animation").addClass("viewed").find(".wrap").load("assets/exp/exp_html.html")}nav_index=0,sections=[],section_containers=$(".full-screen-block"),$("nav.main-nav .item").each(function(e,t){sections.push($(t).attr("href"))}),$("nav.main-nav > *").click(function(){$(this).hasClass("active")||(a($(this).index()),work_opened&&slide_back(),blog_opened&&blog_slide_back())}),$(window).on("load",function(){nav_index=e(),nav_index>=0?(window.location.hash=sections[nav_index],t(nav_index),o(nav_index)):(nav_index=0,t(nav_index)),$("nav .item").eq(nav_index).addClass("first-loaded"),setTimeout(function(){$(".first-loaded").removeClass("first-loaded").addClass("active")},200)}),$(window).on("hashchange",function(){nav_index=e(),nav_index>=0&&(n(nav_index),t(nav_index))})}),jQuery(document).ready(function(e){var t={$dropys:null,openClass:"open",selectClass:"selected",init:function(){var t=this;t.$dropys=e(".dropy"),t.eventHandler()},eventHandler:function(){var t=this;t.$dropys.find(".dropy__title").click(function(){t.$dropys.removeClass(t.openClass),e(this).parents(".dropy").addClass(t.openClass)}),t.$dropys.find(".dropy__content ul li a").click(function(){var t=e(this).attr("data-cat");load_cat(t),set_dropdown_value(t)}),e(document).bind("click",function(a){e(a.target).parents().hasClass("dropy")||t.$dropys.removeClass(t.openClass)})}};e(function(){t.init()})}),$(document).ready(function(){$.ajaxSetup({cache:!0});var e=$(".exp-nav"),t=$(".exp-nav .select-skill"),a=($("nav.select-skill li"),$("nav.select-skill .selected-center span")),n=a.text(),o="active-exp-tab",i=($(".exp-tab"),$(".exp-unit-wrapper")),s=$(".exp-animation .wrap");$(".exp-unit").eq(0).addClass("active-exp-tab"),e.mouseenter(function(){t.hasClass("animating")||($(this).find(".select-skill").addClass("opened show-list"),i.addClass("faded-out"),new_text=a.text(),a.text(n))}),$(".select-option").click(function(){if($(this).addClass("checked"),t.hasClass("opened")){var e=$(this);s.load("assets/"+e.data("file")),setTimeout(function(){setTimeout(function(){a.text(e.text()),setTimeout(function(){i.removeClass("faded-out"),t.removeClass("animating")},50)},500),setTimeout(function(){t.removeClass("show-list")},450),t.removeClass("opened").addClass("animating")},500),$(".exp-unit").removeClass(o).eq($(this).data("index")-1).addClass(o)}else t.addClass("opened show-list"),i.addClass("faded-out")})}),$(document).ready(function(){function e(e){return $(e).val()}$(window).on("load",function(){$("input, textarea").each(function(e,t){""!=$(t).val()&&$(t).addClass("has-value")})});var t=$(".awesome-form"),a=$(".awesome-form textarea"),n=$(".awesome-form input[name=name]"),o=$(".awesome-form input[name=email]"),i=$(".awesome-form button");$(t).submit(function(t){t.preventDefault(),$.ajax({url:"//formspree.io/const.int.naumov@gmail.com",method:"POST",data:{name:e(n),email:e(o),message:e(a)},dataType:"json"}),$(n).val("").removeClass("has-value"),$(o).val("").removeClass("has-value"),$(a).val("").removeClass("has-value"),$(i).text("Thank you! I promise to reply asap â˜º")}),$(".awesome-form input, .awesome-form .textarea").focusout(function(){""===$(this).val()?$(this).removeClass("has-value"):$(this).addClass("has-value")});var s,r,l;l=$(".awesome-form textarea"),r=$("#auto-height-hidden-div"),s=null,l.on("keyup focus",function(){s=$(this).val(),s=s.replace(/\n/g,"<br>"),r.html(s+"<br><br>"),$(".textarea-wrapper").css("height",r.height()),$(this).css("height",r.height()-2)}),l.on("focusout",function(){s=$(this).val(),s=s.replace(/\n/g,"<br>"),r.html(s),ta_size=r.height()<28?28:r.height(),wra_size=r.height()<60?60:r.height(),$(".textarea-wrapper").css("height",wra_size),$(this).css("height",ta_size)})}),$(document).ready(function(){work_section=$(".section-work"),navigation=$("nav"),show_work_trigger=$(".thumb-click-area"),loader_work=$(".loader.work"),work_belt=$(".work-belt"),work_wrap=$(".work-wrap"),work_container=$(".work-container"),return_sign=$(".work-return"),thumb_wrap_shift=$(".thumb-wrap-shift"),animating_work=!1,work_opened=!1,$.ajaxSetup({cache:!0}),show_work_trigger.click(function(){if(!animating_work){var e=$(this),t=e.data("name"),a=e.data("url"),n=e.data("folder");animating_work=work_opened=!0,work_belt.addClass("slided"),setTimeout(function(){$("aside .work-return").show(),animating_work=!1},800),$(".project-load").addClass("loaded").find("img").attr("src","assets/img/work/proj-"+n+"/image.jpg"),$(".project-title span.title-text").text(t),""!=a&&$(".project-url").attr("href","http://"+a)}}),return_sign.click(function(){slide_back()})}),$(document).ready(function(){function e(){var e=$(t).scrollTop(),a=$(t).outerHeight();e+loading_offset+win_height>a&&load_new_posts(5,"all")}{var t=$("#blog .preview-container-shift"),a=$("#blog-posts"),n=$(".blog-belt");$(".post-section")}blog_return=$(".blog-return"),post_poster=$(".post-poster"),post_content=$(".post-content"),total_number=a.data("total-number"),pager_size=a.data("pager-number"),shown_pages=1,loading_offset=200,animating_blog=blog_opened=!1,page_folders_number=Math.ceil(total_number/pager_size),$(t).on("click",".hashtag",function(){load_cat($(this).text()),set_dropdown_value($(this).text())}),$(t).on("scroll",function(){$(t).hasClass("prevent-scroll-load")||e()}),$(window).on("load",function(){shown_posts=$(".post-section .post-preview");$(shown_posts).size();shown_posts<5&&load_new_posts(5-shown_posts)}),e(),$("#blog-posts").on("click",".post-link, .post-name span",function(){if(!animating_work){var e=$(this).parents(".post-preview"),t=e.data("name"),a=e.data("url"),o=e.data("date");animating_blog=blog_opened=!0,n.addClass("slided"),setTimeout(function(){$("aside .blog-return").show(),animating_blog=!1},800),$(".post-title .title-text").text(t),$(".post-title .date").text(o.toLowerCase()),$(".post-content").load(a,function(){newPoster=$("#poster-holder").text(),post_poster.css("background-image","url("+newPoster+")")})}}),blog_return.click(function(){blog_slide_back()})});